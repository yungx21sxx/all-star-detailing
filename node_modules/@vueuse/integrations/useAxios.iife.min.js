(function(L,h,v,l){"use strict";function O(...t){const r=typeof t[0]=="string"?t[0]:void 0,n=typeof r=="string"?1:0,E={immediate:!!n,shallow:!0,abortPrevious:!0};let R={},d=v,u=E;const p=e=>!!e?.request;t.length>0+n&&(p(t[0+n])?d=t[0+n]:R=t[0+n]),t.length>1+n&&p(t[1+n])&&(d=t[1+n]),(t.length===2+n&&!p(t[1+n])||t.length===3+n)&&(u=t[t.length-1]||E);const{initialData:x,shallow:U,onSuccess:j=h.noop,onError:q=h.noop,immediate:B,resetOnExecute:N=!1}=u,y=l.shallowRef(),w=(U?l.shallowRef:l.ref)(x),s=l.ref(!1),c=l.ref(!1),a=l.ref(!1),i=l.shallowRef();let b=new AbortController;const A=e=>{s.value||!c.value||(b.abort(e),b=new AbortController,a.value=!0,c.value=!1,s.value=!1)},V=e=>{c.value=e,s.value=!e},S=()=>{N&&(w.value=x)},P=()=>new Promise((e,f)=>{h.until(s).toBe(!0).then(()=>i.value?f(i.value):e(D))}),C={then:(...e)=>P().then(...e),catch:(...e)=>P().catch(...e)};let m=0;const _=(e=r,f={})=>{i.value=void 0;const F=typeof e=="string"?e:r??f.url;if(F===void 0)return i.value=new v.AxiosError(v.AxiosError.ERR_INVALID_URL),s.value=!0,C;S(),u.abortPrevious!==!1&&A(),V(!0),m+=1;const k=m;return a.value=!1,d(F,{...R,...typeof e=="object"?e:f,signal:b.signal}).then(o=>{if(a.value)return;y.value=o;const I=o.data;w.value=I,j(I)}).catch(o=>{i.value=o,q(o)}).finally(()=>{var o;(o=u.onFinish)==null||o.call(u),k===m&&V(!1)}),C};B&&r&&_();const D={response:y,data:w,error:i,isFinished:s,isLoading:c,cancel:A,isAborted:a,isCanceled:a,abort:A,execute:_};return{...D,...C}}L.useAxios=O})(this.VueUse=this.VueUse||{},VueUse,axios,Vue);
